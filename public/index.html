<!DOCTYPE html>
<html lang="en">

<head>
    <script src="./dependances/chart.js"></script>
    <script src="./dependances/jquery-3.6.0.js"></script>
</head>

<body>
    <div>
        <canvas id="chart"></canvas>
    </div>
</body>
<script>
    const port = window.location.port;

    $.ajax({
        url: `http://localhost:${port}`,
        type: `POST`,
        headers: {
            'type': 'query',
            'week': 'filler'
        }
    }).done((info) => {
        const chart = document.getElementById('chart');

        let time = [];

        info.forEach(element => {
            try {
                time[time.length] = element.active / 60;
            } catch (e) {
                time[time.length] = 0;
            }
        });

        let barChart = new Chart(chart, {
            type: 'bar',
            data: {
                labels: ['Saturday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday',
                    'Saturday'
                ],
                datasets: [{
                    label: 'Time Coding in Minutes',
                    borderColor: '#00FF00',
                    backgroundColor: '#C3B1E1',
                    data: time,
                }]
            }
        })
    });
</script>

</html>