var h=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var b=h((se,I)=>{"use strict";var v=require("fs"),S;function G(){try{return v.statSync("/.dockerenv"),!0}catch{return!1}}function X(){try{return v.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}I.exports=()=>(S===void 0&&(S=G()||X()),S)});var F=h((ae,P)=>{"use strict";var V=require("os"),K=require("fs"),D=b(),A=()=>{if(process.platform!=="linux")return!1;if(V.release().toLowerCase().includes("microsoft"))return!D();try{return K.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!D():!1}catch{return!1}};process.env.__IS_WSL_TEST__?P.exports=A:P.exports=A()});var O=h((ce,E)=>{"use strict";E.exports=(t,r,i)=>{let o=n=>Object.defineProperty(t,r,{value:n,enumerable:!0,writable:!0});return Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get(){let n=i();return o(n),n},set(n){o(n)}}),t}});var J=h((le,B)=>{var Y=require("path"),H=require("child_process"),{promises:$,constants:W}=require("fs"),w=F(),U=b(),x=O(),j=Y.join(__dirname,"xdg-open"),{platform:g,arch:N}=process,Z=(()=>{let t="/mnt/",r;return async function(){if(r)return r;let i="/etc/wsl.conf",o=!1;try{await $.access(i,W.F_OK),o=!0}catch{}if(!o)return t;let n=await $.readFile(i,{encoding:"utf8"}),c=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(n);return c?(r=c.groups.mountPoint.trim(),r=r.endsWith("/")?r:`${r}/`,r):t}})(),q=async(t,r)=>{let i;for(let o of t)try{return await r(o)}catch(n){i=n}throw i},y=async t=>{if(t={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return q(t.app,l=>y({...t,app:l}));let{name:r,arguments:i=[]}=t.app||{};if(i=[...i],Array.isArray(r))return q(r,l=>y({...t,app:{name:l,arguments:i}}));let o,n=[],c={};if(g==="darwin")o="open",t.wait&&n.push("--wait-apps"),t.background&&n.push("--background"),t.newInstance&&n.push("--new"),r&&n.push("-a",r);else if(g==="win32"||w&&!U()){let l=await Z();o=w?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,n.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),w||(c.windowsVerbatimArguments=!0);let a=["Start"];t.wait&&a.push("-Wait"),r?(a.push(`"\`"${r}\`""`,"-ArgumentList"),t.target&&i.unshift(t.target)):t.target&&a.push(`"${t.target}"`),i.length>0&&(i=i.map(p=>`"\`"${p}\`""`),a.push(i.join(","))),t.target=Buffer.from(a.join(" "),"utf16le").toString("base64")}else{if(r)o=r;else{let l=!__dirname||__dirname==="/",a=!1;try{await $.access(j,W.X_OK),a=!0}catch{}o=process.versions.electron||g==="android"||l||!a?"xdg-open":j}i.length>0&&n.push(...i),t.wait||(c.stdio="ignore",c.detached=!0)}t.target&&n.push(t.target),g==="darwin"&&i.length>0&&n.push("--args",...i);let d=H.spawn(o,n,c);return t.wait?new Promise((l,a)=>{d.once("error",a),d.once("close",p=>{if(t.allowNonzeroExitCode&&p>0){a(new Error(`Exited with code ${p}`));return}l(d)})}):(d.unref(),d)},C=(t,r)=>{if(typeof t!="string")throw new TypeError("Expected a `target`");return y({...r,target:t})},Q=(t,r)=>{if(typeof t!="string")throw new TypeError("Expected a `name`");let{arguments:i=[]}=r||{};if(i!=null&&!Array.isArray(i))throw new TypeError("Expected `appArguments` as Array type");return y({...r,app:{name:t,arguments:i}})};function M(t){if(typeof t=="string"||Array.isArray(t))return t;let{[N]:r}=t;if(!r)throw new Error(`${N} is not supported`);return r}function k({[g]:t},{wsl:r}){if(r&&w)return M(r);if(!t)throw new Error(`${g} is not supported`);return M(t)}var T={};x(T,"chrome",()=>k({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));x(T,"firefox",()=>k({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));x(T,"edge",()=>k({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));C.apps=T;C.openApp=Q;B.exports=C});var L=h(()=>{});var s=require("vscode"),f=require("fs"),de=J(),fe=L(),e={},u={};e.json={};e.isIdle=!1;e.minutesInADay=1440;e.timeTillIdle=5*60*1e3;e.fileDir="time-tracker-storage-mimja";e.fileName="time.mim";e.idleTimeout=null;module.exports.extensionGlobals=e;e.currentTime=()=>{let t=new Date,r=t.getFullYear(),i=t.getMonth()+1,o=t.getDate(),n=t.getHours(),c=t.getMinutes(),d=t.getSeconds();return[r,i,o,n,c,d,t]};function ee(t){R(),u.labelPosition=e.labelPosition,u.labelPriority=e.labelPriority,u.iconString=e.iconString,s.workspace.onDidChangeConfiguration(()=>{R(),(e.labelPosition!==u.labelPosition||e.labelPriority!==u.labelPriority)&&s.window.showInformationMessage("Reload VSCode to see the changes.","Reload").then(i=>{i=="Reload"&&s.commands.executeCommand("workbench.action.reloadWindow")}),e.iconString!==u.iconString&&_(),u.labelPosition=e.labelPosition,u.labelPriority=e.labelPriority,u.iconString=e.iconString}),e.item=s.window.createStatusBarItem(e.labelPosition,e.labelPriority),e.item.command="mimjas-time-tracker.timeStatuesItemClicked",t.subscriptions.push(e.item),e.item.show(),t.subscriptions.push(s.commands.registerCommand("mimjas-time-tracker.timeStatuesItemClicked",async()=>{s.window.showErrorMessage("This feature has been temporarily disabled do to a bug.")})),te(),_(),ie(),m(69),s.workspace.onDidChangeTextDocument(i=>m(i)),s.workspace.onDidCreateFiles(i=>m(i)),s.workspace.onDidDeleteFiles(i=>m(i)),s.workspace.onDidRenameFiles(i=>m(i)),s.window.onDidOpenTerminal(i=>m(i)),s.window.onDidCloseTerminal(i=>m(i)),s.window.onDidChangeWindowState(i=>m(i));let r="mimjas-time-tracker.showCat";t.subscriptions.push(s.commands.registerCommand(r,re))}function _(){let t=e.json[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].active,r=`${t/60/60}`.split(".")[0],i=`${t/60-r*60}`.split(".")[0],o=`${r} hr`,n=`${i} min`;r<=0&&(o=""),i<=0&&(n=""),r>1&&(o=`${o}s`),i>1&&(n=`${n}s`),e.item.text=`${e.iconString} ${o} ${n}`,e.item.tooltip=`Time Spent Coding on ${`${e.currentTime()[1]}/${e.currentTime()[2]}/${e.currentTime()[0]}`}`}function te(){let t;try{t=f.readFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,"utf8")}catch{try{f.mkdirSync(`${__dirname}/../../${e.fileDir}/`)}catch{}f.writeFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,"{}"),t=f.readFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,"utf8")}e.json=z(t)}function ie(){clearInterval(e.importantInterval),e.importantInterval=setInterval(()=>{e.isIdle||(e.json=z(e.json),e.json[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].active++,e.json[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].active%60==0&&(_(),f.writeFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,JSON.stringify(e.json))))},1e3)}function z(t){typeof t=="string"&&(t=JSON.parse(t));let r=!1,i=t,o=null;if(t[e.currentTime()[0]]==null&&(i[e.currentTime()[0]]={},r=!0),o=t[e.currentTime()[0]],o[e.currentTime()[1]]==null&&(i[e.currentTime()[0]][e.currentTime()[1]]={},r=!0),o=t[e.currentTime()[0]][e.currentTime()[1]],o[e.currentTime()[2]]==null&&(i[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]]={},r=!0),o=t[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]],o.active==null&&(i[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].active=0,r=!0),o.day==null){let n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];i[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].day=n[e.currentTime()[6].getDay()],r=!0}return r&&f.writeFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,JSON.stringify(i),null,4),i}function R(){e.iconString=s.workspace.getConfiguration().get("mimjas-time-tracker.iconStyle"),e.iconString==""&&(e.iconString="circuit-board",s.workspace.getConfiguration().update("mimjas-time-tracker.iconStyle","circuit-board",s.ConfigurationTarget.Global)),e.iconString=`$(${e.iconString})`,s.workspace.getConfiguration().get("mimjas-time-tracker.labelPosition")=="Left"?e.labelPosition=s.StatusBarAlignment.Left:e.labelPosition=s.StatusBarAlignment.Right,s.workspace.getConfiguration().get("mimjas-time-tracker.labelPriority")?e.labelPosition==s.StatusBarAlignment.Right?e.labelPriority=1/0:e.labelPriority=-1/0:e.labelPosition==s.StatusBarAlignment.Right?e.labelPriority=-1/0:e.labelPriority=1/0}function m(t){e.isIdle&&(e.isIdle=!1),!!t.focused&&(clearTimeout(e.idleTimeout),e.idleTimeout=setTimeout(()=>{e.isIdle=!0,s.window.showInformationMessage("Idle mode has been activated. Time will not be logged until you resume coding.")},e.timeTillIdle))}function re(){let t=s.window.createWebviewPanel("catCoding","Cat Coding",s.ViewColumn.One,{});t.webview.html=`<!DOCTYPE html>
	<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Cat Coding - Image</title>
	</head>
	<body>
		<img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" width="650" />
	</body>
	</html>`}function ne(){f.writeFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,JSON.stringify(e.json))}module.exports={activate:ee,deactivate:ne};
