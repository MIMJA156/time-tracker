var h=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports);var S=h((ae,v)=>{"use strict";var _=require("fs"),b;function X(){try{return _.statSync("/.dockerenv"),!0}catch{return!1}}function V(){try{return _.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}v.exports=()=>(b===void 0&&(b=X()||V()),b)});var F=h((ce,P)=>{"use strict";var K=require("os"),Y=require("fs"),D=S(),A=()=>{if(process.platform!=="linux")return!1;if(K.release().toLowerCase().includes("microsoft"))return!D();try{return Y.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!D():!1}catch{return!1}};process.env.__IS_WSL_TEST__?P.exports=A:P.exports=A()});var O=h((le,E)=>{"use strict";E.exports=(t,i,n)=>{let r=o=>Object.defineProperty(t,i,{value:o,enumerable:!0,writable:!0});return Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get(){let o=n();return r(o),o},set(o){r(o)}}),t}});var J=h((ue,B)=>{var H=require("path"),U=require("child_process"),{promises:C,constants:M}=require("fs"),w=F(),Z=S(),$=O(),j=H.join(__dirname,"xdg-open"),{platform:g,arch:N}=process,Q=(()=>{let t="/mnt/",i;return async function(){if(i)return i;let n="/etc/wsl.conf",r=!1;try{await C.access(n,M.F_OK),r=!0}catch{}if(!r)return t;let o=await C.readFile(n,{encoding:"utf8"}),c=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return c?(i=c.groups.mountPoint.trim(),i=i.endsWith("/")?i:`${i}/`,i):t}})(),q=async(t,i)=>{let n;for(let r of t)try{return await i(r)}catch(o){n=o}throw n},y=async t=>{if(t={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return q(t.app,l=>y({...t,app:l}));let{name:i,arguments:n=[]}=t.app||{};if(n=[...n],Array.isArray(i))return q(i,l=>y({...t,app:{name:l,arguments:n}}));let r,o=[],c={};if(g==="darwin")r="open",t.wait&&o.push("--wait-apps"),t.background&&o.push("--background"),t.newInstance&&o.push("--new"),i&&o.push("-a",i);else if(g==="win32"||w&&!Z()){let l=await Q();r=w?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),w||(c.windowsVerbatimArguments=!0);let a=["Start"];t.wait&&a.push("-Wait"),i?(a.push(`"\`"${i}\`""`,"-ArgumentList"),t.target&&n.unshift(t.target)):t.target&&a.push(`"${t.target}"`),n.length>0&&(n=n.map(p=>`"\`"${p}\`""`),a.push(n.join(","))),t.target=Buffer.from(a.join(" "),"utf16le").toString("base64")}else{if(i)r=i;else{let l=!__dirname||__dirname==="/",a=!1;try{await C.access(j,M.X_OK),a=!0}catch{}r=process.versions.electron||g==="android"||l||!a?"xdg-open":j}n.length>0&&o.push(...n),t.wait||(c.stdio="ignore",c.detached=!0)}t.target&&o.push(t.target),g==="darwin"&&n.length>0&&o.push("--args",...n);let d=U.spawn(r,o,c);return t.wait?new Promise((l,a)=>{d.once("error",a),d.once("close",p=>{if(t.allowNonzeroExitCode&&p>0){a(new Error(`Exited with code ${p}`));return}l(d)})}):(d.unref(),d)},x=(t,i)=>{if(typeof t!="string")throw new TypeError("Expected a `target`");return y({...i,target:t})},ee=(t,i)=>{if(typeof t!="string")throw new TypeError("Expected a `name`");let{arguments:n=[]}=i||{};if(n!=null&&!Array.isArray(n))throw new TypeError("Expected `appArguments` as Array type");return y({...i,app:{name:t,arguments:n}})};function W(t){if(typeof t=="string"||Array.isArray(t))return t;let{[N]:i}=t;if(!i)throw new Error(`${N} is not supported`);return i}function k({[g]:t},{wsl:i}){if(i&&w)return W(i);if(!t)throw new Error(`${g} is not supported`);return W(t)}var T={};$(T,"chrome",()=>k({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));$(T,"firefox",()=>k({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));$(T,"edge",()=>k({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));x.apps=T;x.openApp=ee;B.exports=x});var L=h(()=>{});var s=require("vscode"),f=require("fs"),fe=J(),ge=L(),e={},u={};e.json={};e.isIdle=!1;e.minutesInADay=1440;e.timeTillIdle=5*60*1e3;e.fileDir="time-tracker-storage-mimja";e.fileName="time.mim";e.idleTimeout=null;module.exports.extensionGlobals=e;e.currentTime=()=>{let t=new Date,i=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),o=t.getHours(),c=t.getMinutes(),d=t.getSeconds();return[i,n,r,o,c,d,t]};function te(t){G(),u.labelPosition=e.labelPosition,u.labelPriority=e.labelPriority,u.iconString=e.iconString,s.workspace.onDidChangeConfiguration(()=>{G(),m(null),(e.labelPosition!==u.labelPosition||e.labelPriority!==u.labelPriority)&&s.window.showInformationMessage("Reload VSCode to see the changes.","Reload").then(r=>{r=="Reload"&&s.commands.executeCommand("workbench.action.reloadWindow")}),e.iconString!==u.iconString&&I(),u.labelPosition=e.labelPosition,u.labelPriority=e.labelPriority,u.iconString=e.iconString}),e.item=s.window.createStatusBarItem(e.labelPosition,e.labelPriority),e.item.command="mimjas-time-tracker.timeStatuesItemClicked",t.subscriptions.push(e.item),e.item.show(),t.subscriptions.push(s.commands.registerCommand("mimjas-time-tracker.timeStatuesItemClicked",R)),ie(),I(),re(),m(69),s.workspace.onDidChangeTextDocument(r=>m(r)),s.workspace.onDidCreateFiles(r=>m(r)),s.workspace.onDidDeleteFiles(r=>m(r)),s.workspace.onDidRenameFiles(r=>m(r)),s.window.onDidOpenTerminal(r=>m(r)),s.window.onDidCloseTerminal(r=>m(r)),s.window.onDidChangeWindowState(r=>m(r));let i="mimjas-time-tracker.showCat",n="mimjas-time-tracker.showOnWeb";t.subscriptions.push(s.commands.registerCommand(i,ne)),t.subscriptions.push(s.commands.registerCommand(n,R))}function R(){s.window.showErrorMessage("This feature has been temporarily disabled do to a bug.")}function I(){let t=e.json[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].active,i=`${t/60/60}`.split(".")[0],n=`${t/60-i*60}`.split(".")[0],r=`${i} hr`,o=`${n} min`;i<=0&&(r=""),n<=0&&(o=""),i>1&&(r=`${r}s`),n>1&&(o=`${o}s`),e.item.text=`${e.iconString} ${r} ${o}`,e.item.tooltip=`Time Spent Coding on ${`${e.currentTime()[1]}/${e.currentTime()[2]}/${e.currentTime()[0]}`}`}function ie(){let t;try{t=f.readFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,"utf8")}catch{try{f.mkdirSync(`${__dirname}/../../${e.fileDir}/`)}catch{}f.writeFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,"{}"),t=f.readFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,"utf8")}e.json=z(t)}function re(){clearInterval(e.importantInterval),e.importantInterval=setInterval(()=>{e.isIdle||(e.json=z(e.json),e.json[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].active++,e.json[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].active%60==0&&(I(),f.writeFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,JSON.stringify(e.json))))},1e3)}function z(t){typeof t=="string"&&(t=JSON.parse(t));let i=!1,n=t,r=null;if(t[e.currentTime()[0]]==null&&(n[e.currentTime()[0]]={},i=!0),r=t[e.currentTime()[0]],r[e.currentTime()[1]]==null&&(n[e.currentTime()[0]][e.currentTime()[1]]={},i=!0),r=t[e.currentTime()[0]][e.currentTime()[1]],r[e.currentTime()[2]]==null&&(n[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]]={},i=!0),r=t[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]],r.active==null&&(n[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].active=0,i=!0),r.day==null){let o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];n[e.currentTime()[0]][e.currentTime()[1]][e.currentTime()[2]].day=o[e.currentTime()[6].getDay()],i=!0}return i&&f.writeFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,JSON.stringify(n),null,4),n}function G(){e.iconString=s.workspace.getConfiguration().get("mimjas-time-tracker.iconStyle"),e.iconString==""&&(e.iconString="circuit-board",s.workspace.getConfiguration().update("mimjas-time-tracker.iconStyle","circuit-board",s.ConfigurationTarget.Global)),e.iconString=`$(${e.iconString})`,s.workspace.getConfiguration().get("mimjas-time-tracker.labelPosition")=="Left"?e.labelPosition=s.StatusBarAlignment.Left:e.labelPosition=s.StatusBarAlignment.Right,s.workspace.getConfiguration().get("mimjas-time-tracker.labelPriority")?e.labelPosition==s.StatusBarAlignment.Right?e.labelPriority=1/0:e.labelPriority=-1/0:e.labelPosition==s.StatusBarAlignment.Right?e.labelPriority=-1/0:e.labelPriority=1/0,e.timeTillIdle=s.workspace.getConfiguration().get("mimjas-time-tracker.timeTillIdle")*1e3*60}function m(t){e.isIdle&&(e.isIdle=!1),!(t!=null&&!t.focused)&&(clearTimeout(e.idleTimeout),e.idleTimeout=setTimeout(()=>{e.isIdle=!0,s.window.showInformationMessage("Idle mode has been activated. Time will not be logged until you resume coding.")},e.timeTillIdle))}function ne(){let t=s.window.createWebviewPanel("catCoding","Cat Coding",s.ViewColumn.One,{});t.webview.html=`<!DOCTYPE html>
	<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Cat Coding - Image</title>
	</head>
	<body>
		<img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" width="650" />
	</body>
	</html>`}function oe(){f.writeFileSync(`${__dirname}/../../${e.fileDir}/${e.fileName}.json`,JSON.stringify(e.json))}module.exports={activate:te,deactivate:oe};
